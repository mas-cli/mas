#!/bin/zsh -Ndefgku
#
# Scripts/clean
# mas
#
# Copyright Â© 2025 mas-cli. All rights reserved.
#
# Deletes the build folder & other generated files.
#

. "${0:A:h}/_setup_script"

print_notice 'ðŸ—‘â€‹ Cleaning' "${@}"

zmodload zsh/zutil
zparseopts -D -A opts D P r x

if ! [[ -v 'opts[-P]' ]]; then
	swift package "${${opts[-D]+clean}:-reset}"
fi
if [[ -v 'opts[-r]' && -e Package.resolved ]]; then
	trash Package.resolved
fi
if [[ -v 'opts[-x]' && -d .swiftpm ]]; then
	trash .swiftpm
fi
